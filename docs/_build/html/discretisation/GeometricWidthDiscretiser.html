

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GeometricWidthDiscretiser &mdash; quick_feature 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=d45e8c67"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Scikit-learn Wrapper" href="../wrappers/index.html" />
    <link rel="prev" title="DecisionTreeDiscretiser" href="DecisionTreeDiscretiser.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            quick_feature
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../encoding/index.html">Categorical Encoding</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Discretisation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="EqualFrequencyDiscretiser.html">EqualFrequencyDiscretiser</a></li>
<li class="toctree-l2"><a class="reference internal" href="EqualWidthDiscretiser.html">EqualWidthDiscretiser</a></li>
<li class="toctree-l2"><a class="reference internal" href="ArbitraryDiscretiser.html">ArbitraryDiscretiser</a></li>
<li class="toctree-l2"><a class="reference internal" href="DecisionTreeDiscretiser.html">DecisionTreeDiscretiser</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">GeometricWidthDiscretiser</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#quick_feature.discretisation.GeometricWidthDiscretiser"><code class="docutils literal notranslate"><span class="pre">GeometricWidthDiscretiser</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#quick_feature.discretisation.GeometricWidthDiscretiser.fit"><code class="docutils literal notranslate"><span class="pre">GeometricWidthDiscretiser.fit()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#additional-transformers-for-discretisation">Additional transformers for discretisation</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../wrappers/index.html">Scikit-learn Wrapper</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../datasets/index.html">Datasets</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../variable_handling/index.html">Variable handling functions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">quick_feature</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Discretisation</a></li>
      <li class="breadcrumb-item active">GeometricWidthDiscretiser</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/discretisation/GeometricWidthDiscretiser.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="geometricwidthdiscretiser">
<h1>GeometricWidthDiscretiser<a class="headerlink" href="#geometricwidthdiscretiser" title="Link to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="quick_feature.discretisation.GeometricWidthDiscretiser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">quick_feature.discretisation.</span></span><span class="sig-name descname"><span class="pre">GeometricWidthDiscretiser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variables</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_boundaries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/quick_feature_pl/quick_feature/blob/master/quick_feature/discretisation/geometric_width.py#L33"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#quick_feature.discretisation.GeometricWidthDiscretiser" title="Link to this definition"></a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">GeometricWidthDiscretiser()</span></code> divides continuous numerical variables into
intervals of increasing width. The width of each succeeding interval is larger
than the previous interval by a constant amount (cw).</p>
<p>The constant amount is calculated as:</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[cw = (Max - Min)^{1/n}\]</div>
</div></blockquote>
<p>were Max and Min are the variable’s maximum and minimum value, and n is the number
of intervals.</p>
<p>The sizes of the intervals themselves are calculated with a geometric progression:</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[a_{i+1} = a_i cw\]</div>
</div></blockquote>
<p>Thus, the first interval’s width equals cw, the second interval’s width equals
2 * cw, and so on.</p>
<p>Note that the proportion of observations per interval may vary.</p>
<p>This discretisation technique is great when the distribution of the variable is
right skewed.</p>
<p>Note: The width of some bins might be very small. Thus, to allow this transformer
to work properly, it might help to increase the precision value, that is,
the number of decimal values allowed to define each bin. If the variable has a
narrow range or you are sorting into several bins, allow greater precision
(i.e., if precision = 3, then 0.001; if precision = 7, then 0.0001).</p>
<p>The <a class="reference internal" href="#quick_feature.discretisation.GeometricWidthDiscretiser" title="quick_feature.discretisation.GeometricWidthDiscretiser"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeometricWidthDiscretiser()</span></code></a> works only with numerical variables.
A list of variables to discretise can be indicated, or the discretiser will
automatically select all numerical variables in the train set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>variables: list, default=None</strong></dt><dd><p>The list of numerical variables to transform. If None, the transformer will
automatically find and select all numerical variables.</p>
</dd>
<dt><strong>bins: int, default=10</strong></dt><dd><p>Desired number of intervals / bins.</p>
</dd>
<dt><strong>return_boundaries: bool, default=False</strong></dt><dd><p>Whether the output should be the interval boundaries. If True, it returns
the interval boundaries. If False, it returns integers.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Attributes<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>binner_dict_:</strong></dt><dd><p>Dictionary with the interval limits per variable.</p>
</dd>
<dt><strong>variables_:</strong></dt><dd><p>The group of variables that will be transformed.</p>
</dd>
<dt><strong>feature_names_in_:</strong></dt><dd><p>List with the names of features seen during <code class="docutils literal notranslate"><span class="pre">fit</span></code>.</p>
</dd>
<dt><strong>n_features_in_:</strong></dt><dd><p>The number of features in the train set used in fit.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>fit:</strong></p></td>
<td><p>Find the interval limits.</p></td>
</tr>
<tr class="row-even"><td><p><strong>fit_transform:</strong></p></td>
<td><p>Fit to data, then transform it.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>get_feature_names_out:</strong></p></td>
<td><p>Get output feature names for transformation.</p></td>
</tr>
<tr class="row-even"><td><p><strong>get_params:</strong></p></td>
<td><p>Get parameters for this estimator.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>set_params:</strong></p></td>
<td><p>Set the parameters of this estimator.</p></td>
</tr>
<tr class="row-even"><td><p><strong>transform:</strong></p></td>
<td><p>Sort continuous variable values into the intervals.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="r45ca109e5aaf-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<p>J. Reiser, “Classification Systems”,
<a class="reference external" href="https://www.slideshare.net/johnjreiser/classification-systems">https://www.slideshare.net/johnjreiser/classification-systems</a></p>
</div>
<div class="citation" id="r45ca109e5aaf-2" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></span>
<p>Geometric Interval Classification
<a class="reference external" href="http://wiki.gis.com/wiki/index.php/Geometric_Interval_Classification">http://wiki.gis.com/wiki/index.php/Geometric_Interval_Classification</a></p>
</div>
<div class="citation" id="r45ca109e5aaf-3" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></span>
<p>Geometric progression
<a class="reference external" href="https://en.wikipedia.org/wiki/Geometric_progression">https://en.wikipedia.org/wiki/Geometric_progression</a></p>
</div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="quick_feature.discretisation.GeometricWidthDiscretiser.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/quick_feature_pl/quick_feature/blob/master/quick_feature/discretisation/geometric_width.py#L140"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#quick_feature.discretisation.GeometricWidthDiscretiser.fit" title="Link to this definition"></a></dt>
<dd><p>Learn the boundaries of the geometric width intervals / bins for each
variable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>X: polars or pandas dataframe of shape = [n_samples, n_features]</strong></dt><dd><p>The training dataset. Can be the entire dataframe, not just the variables
to be transformed.</p>
</dd>
<dt><strong>y: None</strong></dt><dd><p>y is not needed in this encoder. You can pass y or None.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="DecisionTreeDiscretiser.html" class="btn btn-neutral float-left" title="DecisionTreeDiscretiser" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../wrappers/index.html" class="btn btn-neutral float-right" title="Scikit-learn Wrapper" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Ahmad Zaenal.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>